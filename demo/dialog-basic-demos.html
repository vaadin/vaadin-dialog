<dom-module id="dialog-basic-demos">
  <template>
    <style include="vaadin-component-demo-shared-styles">
      :host {
        display: block;
      }
    </style>

    <h3>Simple Dialog</h3>
    <vaadin-demo-snippet id="dialog-basic-demos-simple-dialog">
      <template preserve-content>
        <vaadin-dialog></vaadin-dialog>
        <vaadin-button>Show dialog</vaadin-button>
        <script>
          window.addDemoReadyListener('#dialog-basic-demos-simple-dialog', function(document) {
            const dialog = document.querySelector('vaadin-dialog');
            dialog.renderer = function(root, dialog) {
              root.innerText = 'This simple dialog will close by pressing the Esc key, or by a mouse click anywhere outside the dialog area';
            };
            document.querySelector('vaadin-button').addEventListener('click', function() {
              dialog.opened = true;
            });
          });
        </script>
      </template>
    </vaadin-demo-snippet>

    <h3>Confirmation Dialog</h3>
    <vaadin-demo-snippet id="dialog-basic-demos-confirm-dialog">
      <template preserve-content>
        <dom-bind id="dialog-example">
          <template>
            <vaadin-dialog no-close-on-esc no-close-on-outside-click></vaadin-dialog>
            <vaadin-button on-click="openDialog">Show Confirmation Dialog</vaadin-button>
          </template>
        </dom-bind>
        <script>
          window.addDemoReadyListener('#dialog-basic-demos-confirm-dialog', function(document) {
            const dialog = document.querySelector('vaadin-dialog');
            dialog.renderer = function(root, dialog) {
              const div = window.document.createElement('div');
              div.innerText = 'Are you sure?';

              const br = window.document.createElement('br');

              const okButton = window.document.createElement('vaadin-button');
              okButton.setAttribute('theme', 'primary');
              okButton.innerText = 'OK';
              okButton.style = 'margin-right: 1em;';
              okButton.addEventListener('click', function() {
                dialog.opened = false;
              });

              const cancelButton = window.document.createElement('vaadin-button');
              cancelButton.innerText = 'Cancel';
              cancelButton.addEventListener('click', function() {
                dialog.opened = false;
              });

              root.appendChild(div);
              root.appendChild(br);
              root.appendChild(okButton);
              root.appendChild(cancelButton);
            };
            document.querySelector('vaadin-button').addEventListener('click', function() {
              dialog.opened = true;
            });
          });
        </script>
      </template>
    </vaadin-demo-snippet>

    <h3>Scrollable Dialog</h3>
    <vaadin-demo-snippet id="dialog-basic-demos-scrollable-dialog">
      <template preserve-content>
        <dom-bind id="scrollable-dialog-example">
          <template>
            <vaadin-dialog no-close-on-outside-click></vaadin-dialog>
            <vaadin-button>Show dialog</vaadin-button>
          </template>
        </dom-bind>
        <script>
          window.addDemoReadyListener('#dialog-basic-demos-scrollable-dialog', function(document) {
            const dialog = document.querySelector('vaadin-dialog');
            dialog.renderer = function(root, dialog) {
              const section = window.document.createElement('section');
              section.style = 'display: flex; flex-direction: column; max-height: calc(100vh - 80px);';

              const header = window.document.createElement('header');
              header.innerText = 'Alice in Wornderland';

              const main = window.document.createElement('main');
              for (let i = 0; i < 10; i++) {
                const longParagraph = window.document.createElement('p');
                longParagraph.innerText = 'But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain' +
                'was born and I will give you a complete account of the system, and expound the actual teachings of the great explorer,' +
                'the master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself, because it is pleasure,' +
                'but because those who do not know how to pursue pleasure rationally encounter consequences that are extremely painful.' +
                'Nor again is there anyone who loves or pursues or desires to obtain pain of itself, because it is pain,' +
                'but because occasionally circumstances occur in which toil and pain can procure him some great pleasure.' +
                'To take a trivial example, which of us ever undertakes laborious physical exercise, except to obtain some advantage from it?' +
                'But who has any right to find fault with a man who chooses to enjoy a pleasure that has no annoying consequences,' +
                'or one who avoids a pain that produces no resultant pleasure?';
                main.appendChild(longParagraph);
              }
              main.style = 'overflow-y: scroll;';

              const footer = window.document.createElement('footer');
              const btn = window.document.createElement('vaadin-button');
              btn.innerText = 'Close';
              btn.addEventListener('click', function() {
                dialog.opened = false;
              });
              footer.appendChild(btn);

              section.appendChild(header);
              section.appendChild(main);
              section.appendChild(footer);
              root.appendChild(section);

              document.querySelector('vaadin-button').addEventListener('click', function() {
                dialog.opened = true;
              });
            };
          });
        </script>
      </template>
    </vaadin-demo-snippet>

    <h3>Defining Content with Polymer Templates</h3>
    <vaadin-demo-snippet id="dialog-basic-demos-polymer-templates">
      <template preserve-content>
        <vaadin-dialog aria-label="polymer templates">
          <template>
            <div>This simple dialog will close by pressing the Esc key,</div>
            <div> or by a mouse click anywhere outside the dialog area</div>
          </template>
        </vaadin-dialog>
        <vaadin-button>Show dialog</vaadin-button>
        <script>
          window.addDemoReadyListener('#dialog-basic-demos-polymer-templates', function(document) {
            document.querySelector('vaadin-button').addEventListener('click', function() {
              document.querySelector('vaadin-dialog').opened = true;
            });
          });
        </script>
      </template>
    </vaadin-demo-snippet>

    <h3>Styling template Content</h3>
    <vaadin-demo-snippet id="dialog-basic-demos-styled-dialog">
      <template preserve-content>
        <style>
          .dialog-message {
            font: italic 24pt serif;
            background: #fff;
            color: #000;
            padding: 1em;
            border: .25em solid #000;
          }
        </style>
        <vaadin-dialog>
          <template>
            <div class="dialog-message">I am styled from the parent scope and can be closed by pressing the Esc key,
            or by a mouse click anywhere outside the dialog area</div>
          </template>
        </vaadin-dialog>
        <vaadin-button>Show dialog</vaadin-button>
        <script>
          window.addDemoReadyListener('#dialog-basic-demos-styled-dialog', function(document) {
            document.querySelector('vaadin-button').addEventListener('click', function() {
              document.querySelector('vaadin-dialog').opened = true;
            });
          });
        </script>
      </template>
    </vaadin-demo-snippet>

  </template>
  <script>
    class DialogBasicDemos extends DemoReadyEventEmitter(DialogDemo(Polymer.Element)) {
      static get is() {
        return 'dialog-basic-demos';
      }
    }
    customElements.define(DialogBasicDemos.is, DialogBasicDemos);
  </script>
</dom-module>
